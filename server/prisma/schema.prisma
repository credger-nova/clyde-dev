generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Parameter {
  unitNumber String    @map("unit_number") @db.VarChar(20)
  name       String    @db.VarChar(100)
  value      String?   @db.VarChar(100)
  timestamp  DateTime? @db.Timestamptz(6)

  @@id([unitNumber, name])
  @@map("parameter")
}

model Unit {
  status                 String?
  unitNumber             String    @id @map("unit_number")
  customer               String?
  location               String?
  county                 String?
  state                  String?
  engine                 String?
  engineFamily           String?   @map("engine_family")
  engineSerialNum        String?   @map("engine_serial_num")
  afr                    String?
  catalyst               String?
  catalystMM             String?   @map("catalyst_mm")
  oemHP                  Float?    @map("oem_hp")
  novaHP                 Float?    @map("nova_hp")
  engineRPM              Float?    @map("engine_rpm")
  frameRPM               Float?    @map("frame_rpm")
  compressorFrame        String?   @map("compressor_frame")
  compressorFrameFamily  String?   @map("compressor_frame_family")
  compressorFrameSN      String?   @map("compressor_frame_sn")
  stages                 String?
  cylinderSize           String?   @map("cylinder_size")
  packageMfgDate         DateTime? @map("package_mfg_date") @db.Timestamp(6)
  engineMfgDate          String?   @map("engine_mfg_date")
  zeroHourDate           DateTime? @map("zero_hour_date") @db.Timestamp(6)
  compressorFrameRebuild DateTime? @map("compressor_frame_rebuild") @db.Timestamp(6)
  topEnd                 DateTime? @map("top_end") @db.Timestamp(6)
  oilProvider            String?   @map("oil_provider")
  telemetry              String?
  coordinates            String?
  trailerUnit            String?   @map("trailer_unit")
  unitSetDate            DateTime? @map("unit_set_date") @db.Timestamp(6)
  billingStartDate       DateTime? @map("billing_start_date") @db.Timestamp(6)
  billingEndDate         String?   @map("billing_end_date")
  lastBillingDate        DateTime? @map("last_billing_date") @db.Timestamp(6)
  onOffContract          String?   @map("on_off_contract")
  mtmLastPriceIncrease   String?   @map("mtm_last_price_increase")
  salesperson            String?
  contractTypeTax        String?   @map("contract_type_tax")
  contractTypeOil        String?   @map("contract_type_oil")
  monthlyRate            Float?    @map("monthly_rate")
  recurringDiscount      Float?    @map("recurring_discount")
  salesTax               Float?    @map("sales_tax")
  adValoremHeit          Float?    @map("ad_valorem_heit")
  netRevenue             Float?    @map("net_revenue")
  dayRate                String?   @map("day_rate")
  origin                 String?
  acqEffDate             DateTime? @map("acq_eff_date") @db.Timestamp(6)
  ownedLeased            String?   @map("owned_leased")
  operationalRegion      String?   @map("operational_region")
  financeRegion          String?   @map("finance_region")
  unitProfileUpdateDate  DateTime? @map("unit_profile_update_date") @db.Timestamp(6)
  financialSku           String?   @map("financial_sku")
  oemHPTranche           String?   @map("oem_hp_tranche")
  bdComments             String?   @map("bd_comments")
  opsComments            String?   @map("ops_comments")
  setWeek                String?   @map("set_week")
  releaseWeek            String?   @map("release_week")

  @@map("unit")
}

model WeeklyDowntime {
  id         String @id @default(dbgenerated("uuid_generate_v4()")) @db.Uuid
  unitNumber String @map("unit_number") @db.VarChar(100)
  week       String @db.VarChar(20)
  ma         Float  @db.Real
  dtHours    Float  @map("dt_hours") @db.Real

  @@map("weekly_downtime")
}
